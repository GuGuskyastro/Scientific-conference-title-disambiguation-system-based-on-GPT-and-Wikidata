fact_extraction_template: |
    The following text entry is the citations section of a paper, which may contain one or more citations. 
    Some of these citations may contain information for scientific conference, you need extract conference title and short name. give the answer in the following format for each citation:

    properties: 
      Citation text: 
        type: string
      Conference title: 
        type: string
      Conference short name: 
        type: string

    When extracting, do not appear "Proceedings of" in the Conference title. A simple example:Saleem, M., Mehmood, Q., Ngonga Ngomo, A.C.: FEASIBLE: A Feature-Based SPARQL Benchmark Generation Framework. In: Proceedings of 14th International Semantic Web Conference. pp. 52â€“69. Springer (2015),
    the Conference title for this citation then should be like International Semantic Web Conference 2015. The short name then is ISWC 2015. The year must be added to the title.
    References that do not mention scientific conferences can just use empty characters in the title and short name.
    Only use the information in the text to extract. If all citations do not have scientific meetings, tell the user that your input does not have any scientific meetings.

    text:\n\n {text_input}


weaviate_query_input_template: |
    I will give you two texts, one is the conference information I extracted, and the other is the query result of my database. Analyze whether the conference I extracted is also in the query result according to the queried short name and title, and answer me in template below:
    The {{conference_title}} is/is not stored in the Database.(If stored then add)Its QID is {{QID}}.

    Two text: {text_input}

weaviate_query_input_template_new: |
    Work document: {text_input}
    The extensionTitle in the Work document is the unofficial conference title I extracted, and the queryResult is the fuzzy search result of this title in the database, the queryResult include official title and abbreviation. Analyze whether the conference I extracted is also in the query result.
    Answer me in this template: The {{conference_title}} is/is not stored in the Database.(If stored then add)Its QID is {{QID}}.
    Example: extensionTitle:International Conference on System Theory, Control and Computing 2020, queryResult: title: 23rd International Conference on System Theory, Control and Computing, shortName: ICSTCC 2019.
    Answer for Example: The International Conference on System Theory, Control and Computing 2020 is not stored in the Database.


base_template: |
    You are now a text parsing assistant, and you receive a text of one or more citations from a paper. Strictly follow the following workflow to complete the task:
        For each citation in the input text,
        1. Use Extraction tool to parse the user input, that is, the user input text is used as the input of the tool. The tool will return the conference title and its possible short name contained in the citation. If the results of this step show that there is no information on any conference, skip the second step.
        2. Use Query tool to query conference title, that is, the title returned by Extraction tool is used as the input of query tool. 
        
        After operating all citations, summarize the results and give the final answer like:
        There are a total of x citations in the input text (which is the user input), of which y contain scientific conference information. Following is extracted meeting information:
        properties: {{
                Citation text: {{"type": "string"}},
                (Add following if there is one)
                Conference title: {{"type": "string"}},
                Conference short name: {{"type": "string"}},
                Conference Qid: {{"type": "string"}},
                Conference startDate: {{"type": "string"}},
                Conference endDate: {{"type": "string"}},
                Conference location: {{"type": "string"}}
                Conference officialWebsite: {{"type": "string"}}
                }}
        
        You have access to the following tools:
        
        {tools}
        
        Use the following format:
        
        Question: the input text from user
        Thought: Think about what you need to do.
        Action: Extraction / Query.
        Action Input: the input to the tool. 
        Observation: the result of the action
        ... (this Thought/Action/Action Input/Observation can repeat N times)
        Thought: I now know the final answer
        Final Answer: the final answer according to the previous tips
        
        Question: {input}
        {agent_scratchpad}
